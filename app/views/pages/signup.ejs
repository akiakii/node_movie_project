<%- include ../includes/header %>
<div class="container">
	<div class="row">
		<form action="/user/signup" method="POST" enctype='multipart/form-data' id="signupform">
			<div class="modal-header">注册</div>
			<div class="modal-body">
				<div class="form-group">
					<label for="signupName">用户名</label>
					<input type="text" id="signupName" class="form-control" name="user[name]">
				</div>
				<div class="form-group">
					<label for="signupPassword">密码</label>
					<input type="password" id="signupPassword" class="form-control" name="user[password]">
				</div>
				<div class="form-group">
					<label for="headImg">头像</label>
					<input type="file" id="uploadImg" class="form-control" name="uploadImg">
				</div>
			</div>
			<div class="modal-footer">
				<button class="btn btn-default" type="button" data-dismiss="modal">关闭</button>
				<button class="btn btn-success" type="submit">提交</button>
			</div>
		</form>
	</div>
</div>
<script src="/libs/bootstrapValidator/bootstrapValidator.min.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    /**
     * 下面是进行插件初始化
     * 你只需传入相应的键值对
     * */
    $('#signupform').bootstrapValidator({
            message: 'This value is not valid',
            feedbackIcons: {/*输入框不同状态，显示图片的样式*/
                valid: 'glyphicon glyphicon-ok',
                invalid: 'glyphicon glyphicon-remove',
                validating: 'glyphicon glyphicon-refresh'
            },
            fields: {/*验证*/
                "user[name]": {/*键名username和input name值对应*/
                    message: 'The username is not valid',
                    validators: {
                        notEmpty: {/*非空提示*/
                            message: '用户名不能为空'
                        },
                        stringLength: {/*长度提示*/
                            min: 6,
                            max: 30,
                            message: '用户名长度必须在6到30之间'
                        }/*最后一个没有逗号*/
                    }
                },
                "user[password]": {
                    message:'密码无效',
                    validators: {
                        notEmpty: {
                            message: '密码不能为空'
                        },
                         regexp: {/* 只需加此键值对，包含正则表达式，和提示 */
                            regexp: /^[a-zA-Z0-9_\.]+$/,
                            message: '只能是数字和字母_.'
                        },
                        stringLength: {
                            min: 6,
                            max: 30,
                            message: '用户名长度必须在6到30之间'
                        }
                    }
                },
                uploadImg: {
			            validators: {
			                file: {
			                    extension: 'jpeg,jpg,gif,png',
			                    type: 'image/gif,image/jpg,image/jpeg,image/png',
			                    message: '请上传gif jpg jpeg png 格式的图片'
			                }
			            }
			        }
            }
        });
});
</script>
<%- include ../includes/footer %>		

